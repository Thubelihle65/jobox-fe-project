<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Jobox</title>
    <link rel="stylesheet" href="contract.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
        integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg=="
        crossorigin="anonymous"></script>
</head>

<body id="mybody">
     
    <div class="main" id="mymain">
        <nav>
            <div class="logo">
                <!-- <img src="Homeimages/dut2.png"> -->
            </div>
            <div class="nav-links">
                <ul>
                    <li><a href="#"></a></li>
                    <li><a href="#"></a></li>
                    <li><a href="#"></a></li>
                </ul>
            </div>
        </nav> 
        <form id="myform">
            <div class="page-content" id="content">
        
                <div class="contract-container" style="margin-top: 0;">
                    <div class="contract">
                        <div class="contract-inner">
                            <div class="contract-page">
                                <div style="margin-top: 80px; font-size: 10px;">
                                    <p>RECRUITMENT RATES AND TERMS AGREEMENT</p>
                                </div>
        
                                <div style="margin-top: 10px; margin-bottom: 90px;">
                                    <hr />
                                </div>
                                <div class="row">
                                    <p>
                                        <b>FIXED TERM AGREEMENT</b>
                                    </p>
                                </div>
                                <div class="row"></div>
                                <div class="row" style="margin-top: 60px; margin-bottom: 60px;">
                                    <p>
                                        between
                                    </p>
                                </div>
                                <div>
                                    <p style="margin-left: 42%;">
                                        <b> BMF ATTORNEYS
                                        </b>
                                    </p>
                                    <p style="margin-left: 25%;">
                                        <b>
                                            with company registration number 2022/123456/07
                                        </b>
                                    </p>
                                </div>
                                <div class="row" style="margin-top: 60px; margin-bottom: 60px;">
                                    <p>
                                        and
                                    </p>
                                </div>
        
                                <div style="margin-left: 32%;">
                                    <label class="cname" style="display: none;"></label>
                                    <!-- <button class="cncbtn" onclick="createNewContract()">Make new</button> -->
                                    <input class="nameInput" required type="text" placeholder="[INSERT CLIENT NAME]"
                                        style="width: 50%; border: none; height: 25px; text-align: center; background-color: yellow;">
                                </div>
        
                                <div class="row" style="margin-top: 100px;">
                                    <p>
                                        Collectively referred herein as the “parties”
                                    </p>
                                </div>
        
                                <div style="margin-top: 140px; margin-bottom: 10px;">
                                    <hr />
                                </div>
                                <div style="font-size: 15px;">
                                    <p style="text-align: center;">Page 1 of 3</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        
                <div class="contract-container" style="margin-top: 5px;">
                    <div class="contract">
                        <div class="contract-inner">
                            <div class="contract-page">
                                <div style="margin-top: 50px; font-size: 10px;">
                                    <p>RECRUITMENT RATES AND TERMS AGREEMENT</p>
                                </div>
        
                                <div style="margin-top: 10px; margin-bottom: 20px;">
                                    <hr />
                                </div>
                                <div style="padding: 0 30px; word-spacing: 10px;">
                                    <ol style="margin-left: 20px;">
                                        <li>
                                            <b>Payment Terms:</b>
                                        </li>
        
                                        <ul style="margin-left: 40px; margin-top: 10px;">
                                            <li>
                                                <p>
                                                    BMF Attorney’s fee
                                                    <label class="amt" style="display: none;"></label>
                                                    <input type="number" class="amtInput" placeholder="[Insert Payment Amount]"
                                                        style="width: 30%; height: 25px; border: none; text-align: center; background-color: yellow;">
                                                    (excluding VAT). The
                                                    retainer fee
                                                    can be paid upfront, or month-to-month and the payment terms can be
                                                    payable as follows:
                                                </p>
                                                <ul style="margin-left: 50px; margin-top: 10px;">
                                                    <li>
                                                        <p>
                                                            Upfront:
                                                        </p>
                                                        <ul style="margin-left: 60px; margin-top: 10px;">
                                                            <li>
                                                                <p>
                                                                    Three-twelfths of the fee during the probation
                                                                    period in 3 equal
                                                                    instalments by the 7th day of each month
                                                                </p>
                                                            </li>
                                                            <li>
                                                                <p style="margin-top: 10px;">
                                                                    Nine-twelfths of the fee upon conclusion of the
                                                                    probation period
                                                                    of employment payable on the 7th day of the 4th
                                                                    month.
                                                                </p>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                    <li>
                                                        <p style="margin-top: 10px;">
                                                            Month-to-month:
                                                        </p>
                                                        <ul style="margin-left: 60px; margin-top: 10px;">
                                                            <li>
                                                                <p>
                                                                    The month-to-month fee shall be paid by the 7
                                                                    th day of each
                                                                    month
                                                                </p>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li>
                                                <p style="margin-top: 10px;">
                                                    No variation or amendment to this Agreement shall be of any effect
                                                    unless
                                                    such amendment is put in writing and signed by all parties
                                                </p>
                                            </li>
                                            <li>
                                                <p style="margin-top: 10px;">
                                                    Any documentation prepared by <b>BMF Attorneys</b> remains its property
                                                </p>
                                            </li>
                                        </ul>
        
                                        <li style="margin-top: 10px;">
                                            <b>Appointment</b>
                                        </li>
                                        <ol style="margin-left: 40px; margin-top: 10px;">
                                            <li>
                                                <p style="margin-top: 10px;">
                                                    The Client has procured the services of <b>BMF Attorneys</b> and hereby
                                                    accepts the appointment as an independent contractor of the Client for
                                                    a fixed period of time.
                                                </p>
                                            </li>
                                            <li>
                                                <p style="margin-top: 10px;">
                                                    The reason for this fixed-term contract is <b>for the appointment and
                                                        completion of the
                                                        <label class="desc" style="display: none;"></label>
                                                        <textarea rows="2" class="descInput" placeholder="[Service Description]"
                                                            style="width: 45%; border: none; text-align: center; background-color: yellow;"></textarea>
                                                    </b>
                                                </p>
                                            </li>
                                        </ol>
        
                                        <li style="margin-top: 10px;">
                                            <b>Duration</b>
                                        </li>
                                        <ol style="margin-left: 40px; margin-top: 10px;">
                                            <li>
                                                <p style="margin-top: 10px;">
                                                    Notwithstanding the date of signature hereof, this fixed term contract
                                                    shall be deemed to have commenced on the
                                                    <label class="cdate" style="display: none;"></label>
                                                    <input class="cdateInput" type="date" placeholder="[insert start date]"
                                                        style="width: 30%; height: 25px; border: none; text-align: center; background-color: yellow;">
                                                    and will
                                                    terminate, without further notice, on the
                                                    <label class="tdate" style="display: none;"></label>
                                                    <input class="tdateInput" type="date" placeholder="[insert end date]"
                                                        style="width: 30%; height: 25px; border: none; margin-top: 2px; text-align: center; background-color: yellow;">.
                                                </p>
                                            </li>
                                            <li>
                                                <p style="margin-top: 10px;">
                                                    The automatic termination of the contract on the Termination Date
                                                    shall not be construed as a dismissal but as the completion of a fixed
                                                    term contract.
                                                    </b>
                                                </p>
                                            </li>
                                        </ol>
                                    </ol>
                                </div>
        
                                <div style="margin-top: 30px; margin-bottom: 10px;">
                                    <hr />
                                </div>
                                <div style="font-size: 15px;">
                                    <p style="text-align: center;">Page 2 of 3</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        
                <div class="contract-container" style="margin-top: 5px;">
                    <div class="contract">
                        <div class="contract-inner">
                            <div class="contract-page">
                                <div style="margin-top: 80px; font-size: 10px;">
                                    <p>RECRUITMENT RATES AND TERMS AGREEMENT</p>
                                </div>
        
                                <div style="margin-top: 10px; margin-bottom: 90px;">
                                    <hr />
                                </div>
        
                                <div style="padding: 0 50px; word-spacing: 10px;">
                                    <div>
                                        <p>
                                            Signed at <input type="text"
                                                style="width: 15%; height: 50px; border: none; border-bottom: solid lightgrey; margin-left: 5px;" />
                                            <span style="margin-left: 10px;">on</span>
                                            <input type="text"
                                                style="width: 15%; height: 50px; border: none; border-bottom: solid lightgrey; margin-left: 5px;" />
                                        </p>
                                        <p style="margin-top: 50px;">
                                            <input type="text"
                                                style="width: 50%; height: 50px; border: none; border-bottom: solid;" />
                                        <p style="margin-top: 10px;"> Who warrants authority on behalf of Jobox</p>
                                        </p>
                                    </div>
                                    <div style="margin-top: 100px;">
                                        <p>
                                            Signed at <input type="text"
                                                style="width: 15%; height: 50px; border: none; border-bottom: solid lightgrey; margin-left: 5px;" />
                                            <span style="margin-left: 10px;">on</span>
                                            <input type="text"
                                                style="width: 15%; height: 50px; border: none; border-bottom: solid lightgrey; margin-left: 5px;" />
                                        </p>
                                        <p style="margin-top: 50px;">
                                            <input type="text"
                                                style="width: 50%; height: 50px; border: none; border-bottom: solid;" />
                                        <p style="margin-top: 10px;"> Who warrants authority on behalf of Client</p>
                                        </p>
                                    </div>
                                </div>
        
                                <div style="margin-top: 150px; margin-bottom: 10px;">
                                    <hr />
                                </div>
                                <div style="font-size: 15px;">
                                    <p style="text-align: center;">Page 3 of 3</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container_loading">
                <div id="error"></div>
                <br>
                <div class="bar">
                    <div class="fill"></div>
                </div><br>
                <div class="counter"> <button class="button">Save Contract</button></div>
            </div>
            <div class="output">
                <div class="message">Congratulations! <br> Contract Successfully Saved <button class="btn" onclick="DownloadPdf()">Download</button></div>
            </div>
        </form>
    </div>
</body>
</html>

<script>
    (function(){
        var form = $('.myform'),
        cache_width = form.width(),
        a4 = [595.28, 841.89];

        $('#download_pdf').on('click', function(){
            $('body').scrollTop(0);
            download_pdf();
        });

        function download_pdf(){
            getCanvas().then(function (canvas){
                var img = canvas.toDataURL("image/png"),
                doc = new jsPDF({
                    unit: 'px',
                    format: 'a4'
                });
                doc.addImage(img, 'JPEG', 20, 20);
                doc.save('Bhavdip-html-to-pdf.pdf');
                form.width(cache_width);
            });
        }

        function getCanvas(){
            form.width((a4[0] * 1.33333) - 80).css('max-width', 'none');
            return html2canvas(form, {
                imageTimeout: 2000,
                removeContainer: true
            });
        }
    }());
</script>
<script type="text/javascript">
    function DownloadPdf() {
        var element = document.getElementById('mymain');
        var opt = {
            margin: 1,
            filename: 'contract.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
        };

        // New Promise-based usage:
        html2pdf().set(opt).from(element).save();

        // Old monolithic-style usage:
        html2pdf(element, opt);

        document.getElementById('myform') = reset()
    }

function createNewContract(){
    var b = document.querySelector('.cncbtn');
    var t = document.querySelector('.nameInput');

    if(b){
        b.style.display='none';
        t.style.display='block';
    }
    else{
        t.style.display='none';
        b.style.display='block';
    }
}

    const nameInput = document.querySelector('.nameInput');
    const amtInput = document.querySelector('.amtInput');
    const descInput = document.querySelector('.descInput');
    const cdateInput = document.querySelector('.cdateInput');
    const tdateInput = document.querySelector('.tdateInput');

    const fullname = document.querySelector('.cname');
    const amt = document.querySelector('.amt');
    const desc = document.querySelector('.desc');
    const cdate = document.querySelector('.cdate');
    const tdate = document.querySelector('.tdate');

    const btn = document.querySelector('.button');

    if(nameInput){
        fullname.textContent = localStorage.getItem('ClientName')
    }

    nameInput.addEventListener('input', clname => {
        fullname.textContent = clname.target.value
    })
    amtInput.addEventListener('input', clamt => {
        amt.textContent = clamt.target.value
    })
    descInput.addEventListener('input', cldesc => {
        desc.textContent = cldesc.target.value
    })
    cdateInput.addEventListener('input', clcdate => {
        cdate.textContent = clcdate.target.value
    })
    tdateInput.addEventListener('input', cldtade => {
        tdate.textContent = cldtade.target.value
    })

    let allcontracts = [];
    let container = document.querySelector(".container_loading"),
        output = document.querySelector(".output"),
        fill = document.querySelector(".fill"),
        click = document.querySelector("button");
        bar = document.querySelector(".bar");


    const saveToLocalStorage = (c) => {

        c.preventDefault();

        let con = {
            id: Date.now(),
            clientName: document.querySelector('.nameInput').value,
            paymentAmt: document.querySelector('.amtInput').value,
            serviceDesc: document.querySelector('.descInput').value,
            commenceDate: document.querySelector('.cdateInput').value,
            terminateDate: document.querySelector('.tdateInput').value
        }

        allcontracts.push(con);

        localStorage.setItem("My contracts", JSON.stringify(allcontracts));


        var a = 0;
        var run = setInterval(frames,50);
        function frames(){
            a = a + 1;
            if(a == 101){
                clearInterval(run);
                container.style.display = "none";
                output.style.display = "block";
            }
            else{
                var counter = document.querySelector(".counter");
                counter.textContent = a + "%";
                fill.style.width = a + "%";
                bar.style.display = "block";
            }
        }
    
    };
    document.addEventListener('DOMContentLoaded', () => {
        btn.addEventListener('click', saveToLocalStorage)
    })

    document.getElementById('myform').addEventListener('submit', (e) => {
        let message = [];

        if(nameInput == "" || nameInput == null){
            message.push('Name is required')
        }

        if(message.length > 0){
             document.getElementById('error').innerText = message.join(', ')
        }
        else{
            e.preventDefault()

            if(saveToLocalStorage){

        }
    } 
    });
</script>
